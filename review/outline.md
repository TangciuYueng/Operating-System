## 基本概念
1. OS是一种(核心)系统软件
2. OS**处理机**管理部分负责对进程进行调度
3. OS管理**计算机资源**包括软硬件等，但中断不属于计算机资源
4. 用户观点，OS是**用户与计算机之间的接口**
5. OS功能
   - 处理机管理
   - 存储器管理
   - 设备管理
   - 信息(文件)管理
   - 用户接口
6. OS基本特征
   - **并发(最基本)**：两个或两个以上事件在同一时间间隔内发生
   - **共享(最基本)**：系统中的硬件和软件资源可为多个用户同时使用
   - 虚拟：物理上的一个实体变成逻辑上的*多个对应物*
   - 异步：多个**进程均按照各自独立**的、不可预知的速度向前推进。
7. OS主要性能参数：**吞吐率和利用率**
8. OS两种服务方式
   - 系统调用
        本身是一个由若干条指令构成的过程
   - 系统程序
        有一个系统程序包，它包含了系统提供的大量程序，用于解决带有共性的问题，并为程序的开发和执行提供了一个方便的环境
9.  OS发展历史
    $批处理 -> 分时系统 -> \begin{cases}
\text{大型机 并行 服务器端} \\
\text{在分时系统上继续发展 PC端桌面} \\
\text{小型机} \end{cases}$
1. 多道程序设计提高**CPU**和**外部设备**的**利用率**
2. 经历阶段
    人工操作 -> 单道批处理 -> 执行系统 -> 多道程序系统
3. OS基本类型
   - 兼有以下两个或三个功能的OS叫**通用操作系统**
   - 实时操作系统
     - 能**及时处理**由过程控制反馈的数据并作出响应
     - 3个
       - 航空订票
       - 过程控制
       - 激光照排系统
     - 首先考虑**实时性、可靠性**，这也是和分时的区别
     - 分类
       - 实时控制系统：以计算机为中心的**生产过程**控制和**活动目标**控制
       - 实时信息处理系统：以计算机为中心的**实时信息查询**系统和**实时事务处理**系统
   - 多道批处理操作系统
     - 硬件支持是**通道和中断**
     - 批处理作业必须有作业控制信息
     - 允许用户将若干个作业提交给计算机
     - 不允许用户随时干预自己的程序运行
     - 按内存中同时运行的程序数目分类
       - 单道批处理系统
       - 多道批处理系统
   - 分时操作系统
     - 用户也不可以独占计算机资源
     - 分时系统一定有人机交互功能
     - 响应可能不太及时
     - 允许一台电脑上连接多个中断，多个用户可以通过终端同时地交互使用计算机
     - 时间片一定，用户数越多，响应时间越长
     - **时间片轮转**策略为用户服务
     - 三个特征
       - 多路性
       - 交互性
       - 独占性
     - 响应时间
       - 定义：终端用户发出一条命令开始，到系统处理完这条命令并做出回答为止所需的最大时间间隔
       - 主要因素
         - 系统开销
         - 用户数目
         - 时间片
         - 信息对换量
       - 改善
         - **重入码**技术
         - 虚拟存储技术
   - 网络操作系统
     - 网络上各**计算机能**方便而有效地**共享网络资源**，为网络用户提供所需的各种**服务的软件和有关规程的集合**
4. OS中的**进程调度**不需要硬件支持，时钟管理、地址映射、中断系统需要
5. 分时和批处理都引入了前台、后台的概念，目的是为了**提高CPU利用率**
6. 计算机系统是由**硬件系统和软件系统**两个部分组成
7. 主机控制下进行的输入/输出操作称为**联机输入/输出**操作
8. OS在计算机系统中的位置
    OS是运行在计算机硬件系统上的**最基本的系统软件**控制所有(计算机资源)系统硬件、系统软件，为用户提供良好操作环境，也为其他应用系统最基本的支撑环境。
    向上为用户服务，向下管理计算机资源，用户与计算机之间的接口
    OS外层是其他系统软件，用户可以通过系统软件层与计算机打交道，也可以通过各类应用软件和应用系统，解决用户问题。
9. 怎样理解“由于计算机装有一个OS，从而扩展了原计算机的功能”
    OS将硬件结构和机器一级的操作隐藏，给用户提供友好的操作界面；还处理大量系统事物。
10. 对OS的描述有哪两种主要的观点
    - **虚拟机**：扩展机器，扩展原计算机的功能，用户面对的硬件、操作变得简单，低级操作变为高级操作，基本功能扩展为多种功能。包括系统功能和数量上的扩展。OS功能位置由顶向下俯视
    - **资源管理(主要)**：软硬件资源管理，确保高效合理利用。OS功能位置由底向上观察
    - **用户服务**：一个为用户服务的大型程序，不再直接使用计算机硬件，而是利用操作系统所提供的命令和服务去使用计算机。 
11. 分时和实时OS的比较
    - 一样都能为多个用户服务，分时为**多个终端**用户服务，实时表现为对多路现场信息进行采集以及**多个对象或多个执行机构**进行控制。
    - 信息处理系统一样，每个用户各占一个终端，彼此独立操作，感觉像是独占，实时系统的信息采集和对象控制也是独立互不干扰
    - 分时都是以人所能接受的等待时间来确定；而实时以控制对象所能接受的延时确定
    - 分时是一种通用，主要用于运行终端用户程序，较强交互能力，实时交互能力较弱
    - 分时要求系统可靠，但实时要求系统高度可靠
12. UNIX特点
   - 内核与核外有机结合，内核体积小常驻内存高效
   - 移植性强
   - 多用户多任务系统
   - 良好的用户界面，shell命令
13. DOS、Windows以UNIX的特点
   - DOS是单用户单任务
     - 与旧版本兼容
     - 开放
     - 方便
     - 功能丰富
   - Windows是单用户多任务
     - GUI
     - 多任务操作环境
     - 有效利用内存，虚拟内存
     - 多媒体，多种字体
14. OS基本结构
   - 整体式系统：整个系统是一堆过程的集合，每个过程都可以**随便调用任意其它过程**
   - 层次式系统：层次式系统是按照操作系统中模块的功能和相互依存关系把它们划分为若干个层次，除最底层模块外，任一层模块都建立在它下面一层模块的基础上，即**任一层模块都只能调用它的下层模块**来得到服务，而不能调用其上层模块
   - 客户/服务器系统：在客户/服务器结构中，需要把操作系统的服务功能划分为若干个服务进程，并让这些进程在用户态下来运行。其中的**每一个服务进程称为一个服务器**，如内存服务器、进程服务器、终端服务器、文件服务器等 而用户进程则称为客户进程
15. 为什么说OS是有中断驱动的
   - **并发程序**都是有中断（特别是时钟中断）驱动的
   - **直接面对用户态**"被动"地为用户服务的程序。系统初启后，这类程序一般是不运行的，仅当用户态程序执行了相应的系统调用时，它才被调用、执行
   - 那些**既不主动运行，也不直接面对用户态**的程序。它们是隐藏在操作系统内部，由前两类程序所调用的程序
## 硬件体系结构
1. 什么是作业
    计算机系统按指定的步骤，为用户**一次上机解题所完成工作的总和**
2. 作业管理
    一个用户的作业提交给系统后，**操作系统对其实施的所有管理和控制**工作
3. 作业组成
   - 源程序、数据：用户上机运算的具体内容
   - 作业处理说明：要求计算机所做的具体步骤
4. OS提供的接口有什么
   - **命令接口**：操作命令来组织作业的工作流程和控制作业的运行。
   - **程序接口：系统调用命令**,用户可以在源程序这一级使用这些系统调用命令。
   - **图形接口**：图形界面友好且具有一定智能的用户工作环境
5. 作业控制方式
   - 作业控制卡
   - 作业说明书
   - 键盘命令方式
   - 命令文件方式
6. 系统调用
    即用户在**源程存一级**请求操作系统为之服务的一种手段。它是由OS中的一段程序来完成特定功能的，属于一种**特殊的过程调用**。调用一般用户子程序计算机处于**目态**，完成系统调用功能要采用一种特殊的调用方式--访管方式来实现
7. 系统调用的实现过程
    用户在**源程序中需要请求**OS服务时，只需在**程序中的适当位置**加上一条系统调用命令．当执行到这条命令时，就**产生一个访管中断**，处理机从**目态转为管态**，同时控制权转给**访管中断处理程序**。由访管中断处理程序按相应**系统调用命令的功号**，通过地址变换找到相应的例行子程序入口去执行。执行完毕后，退出中断，**返回到用户程序的断点，恢复现场**，继续执行用户程序。
8. 分时没有作业的概念
    只有进程
9. 作业控制语言？键盘命令语言？
    JCL，Job Control Language是一种表达作业控制意图和步骤的语言
    键盘命令语言是**输入键盘命令语言**中的语句，输入一条命令执行一次，费时又不方便
## 设备管理
1. 大型机中，主机对外设的控制可以通过**通道、控制器、设备**三个层次来实现：通道控制控制器，控制器控制设备
2. 通道是一种特殊的**处理机**，具有**执行I/O指令集**能力。CPU和通道可以并行工作，并通过**I/0指令和I/0中断**实现通讯、同步
3. I/O设备控制发展过程中，最主要的推动因素**减少主机对I/0控制的干预**，提高I/O速度和设备利用率，OS主要依靠**缓冲管理**功能，用户的程序和实际使用的物理设备无关靠**设备管理**功能实现
4. 缓冲技术的目的为了**增强并行操作**的能力，多个进程同时处理输入输出，最好使用**缓冲池**
5. 设备独立性：**用户程序独立于**具体使用的**物理设备**的一种特性
6. 虚拟设备：是指把**一个物理设备**变成**多个对应的逻辑设备**
7. spooling技术是对脱机I/O工作方式的**模拟**，其中的输入井是对脱机输入中的**磁盘**进行模拟，输出井是对脱机输出中的**磁盘**进行模拟的，输入进程是对脱机输入中的**外围控制机**进程模拟，输出进程是对脱机输出中的**外围控制机**进程模拟的
8. 同一用户所使用的I/O设备也可以并行工作
9. 可以一个驱动程序对应多个设备、多个中断，驱动程序不必须汇编编写
10. 磁盘高速缓冲设在**内存**，目的是**高磁盘I/O速度**
11. 有哪些I/O控制方式
    - 程序I/O控制方式
      - 简单，不需要硬件支持
      - CPU利用率低，不能实现设备间并行
      - 无法发现和处理产生的任务
    - 中断驱动I/O控制方式
      - 实现CPU与设备间的并行，实现设备与设备间的并行，CPU利用率高
      - 中断次数多，耗费CPU的时间，容易造成数据丢失
    - 直接存储器访问DMA控制方式
      - 减少了CPU中断的处理次数，传输过程不需要CPU干预
      - 有一定局限
    - I/O通道控制方式
      - 一个通道多个外设，与CPU并行工作时间最长
      - 价格高
12. DMA的工作流程(数据量大)
    - 增加DMA控制器，控制I/O和内存之间的数据传送，CPU就不用花时间在传输过程上
    - 只用开始结束两个中断请求，告诉CPU准备好了和结束了
    - 虽然有中断但中断过程变小了
13. 什么是字节多路通道
    主要用于**连接大量低、中速、以字节**作为传输单位的I/O设备
14. 成组多路通道
    成组多路通道以**分时方式**同时执行**几道通道程序**，每条通道指令可以传送一组数据，所以成组多路通道既具有选择通道传输速率较高的优点，也具有字节多路通道分时操作可以同时管理多台设备I/O操作的优点
15. 数据选择通道
    要用以支持**高速设备（如磁盘）**，每次只对**一个设备进行数据传输**
## 文件系统
1. 文件系统最基本目标**按名存取**，通过**目录管理**，所追求的最重要目标**提高对文件的存取速度**
2. 文件逻辑结构分类**记录文件**和**流式文件**，UNIX中为**流式文件**
3. 一个文件在同一系统中、不同的存储介质上的拷贝，可以使用**不同物理结构**
4. 在索引文件中，索引表的每个表项包含有相应记录的**关键字**和该记录的**物理地址**
5. 对顺序文件进行检索时，首先从FCB中读出文件的第一个**盘块号**，而对索引文件进行检索时，应先从FCB中读出文件**索引表的起始地址**
6. 三级索引存取一般需要四次I/O，三次索引表+一次数据
7. 在文件较大时，无论进行顺序存取还是随机存取，通常都以索引文件方式最快**错的**
8. 空闲空间管理MS-DOS**文件分配表**，UNIX**成组链接法**
9. 文件系统中，通常利用**目录**来管理文件，为了允许不通用户的文件具有相同的文件名，通常文件系统采用**多级目录**，在目录文件中的每个目录项通常是**FCB**，在UNIX系统中，目录项目则是**文件名和索引节点的指针**
10. 在树型目录结构中，用户对某个文件的**首次**访问通常都采用**文件路径名**，文件被**打开后**，对文件的访问通常采用**用户文件描述符**
11. 8、从下面关于目录检索的论述中，选出一条正确的论述
（1）用于hash法具有较快的检索速度，故现代操作系统中已经开始用它来替代传统的顺序检索方法。
（2）在利用顺序检索法时，对树型目录应采用文件的路径名，且应从根目录开始逐级检索。
（3）在利用顺序检索法时，只要找到一个文件分量名未找到，便应停止查找。
（4）在顺序检索法的查找完成后，即可得到文件的物理地址。
12. create()，没找到指定文件的索引节点，属于**创建文件**，检索到，若允许重写，属于**重写文件**，否则**出错**
13. 为了实现磁盘镜像功能，需要在系统中配置**两台磁盘驱动器**
14. 为了实现磁盘双工功能，需要在系统中配置**两台磁盘控制器**
15. 连续空间分配优缺点
    优点:便于顺序访问 顺序访问速度快 
    缺点:要求有连续的存储空间 不便于文件动态增长。
16. 什么是索引文件，多级索引的好处
    索引文件是索引表
    如果文件很大，索引表超出一个物理块大小，使用多级索引，在索引表所指向的物理块中存放存放数据的物理块的地址指针，减少时间开销，可以存很大的文件
17. 说明混合索引分配方式
    如既采用连续分配的方式，又采用索引分配的方式，即一个文件前面的数据块采用连续分配，后面的数据块采用索引分配
18. 空闲磁盘空间管理通常哪几种方式，UNIX里面采用什么
    (1)空闲表法:属于连续分配方式,它与内存管理中的动态分区分配方式相似。 
    (2)空闲链表法:将所有空闲盘区链接成一条空闲链。根据构成链的基本元素不同,可分为空闲盘块链和空闲盘区链。 
    (3)位示图法。利用二进制的一位来表示磁盘中每一个盘块的使用情况,磁盘上的所有盘块都有一个二进制位与之对应,从而由所有盘块所对应的位构成一个集合,即位示图。 
    (4)成组链接法。结合空闲表法和空闲链表法而形成。
    UNIX系统采用的是成组链接法